language: node_js
node_js: "stable"

cache:
  yarn: true
  directories:
    - node_modules

before_script:
  - npm install -g gatsby-cli

script:
  - yarn build

deploy:
  provider: pages:git
  token: $GH_TOKEN
  repo: roldanjrCodeArts9711/productivity-timer
  local_dir: public
  cleanup: true
  on:
    branch: master
  edge: true
